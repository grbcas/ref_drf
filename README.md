# Проект API для управления пользователями

## Описание

Этот проект предоставляет API для управления пользователями и их профилями. Он позволяет регистрировать пользователей, подтверждать верификационные коды, управлять профилями пользователей и активировать пригласительные коды.

## Установка и запуск

1. Клонируйте репозиторий:
   ```
   git clone git@github.com:grbcas/ref_drf.git
   ```
2. Перейдите в директорию проекта:
   ```
   cd ref_drf
   ```
3. Создайте файл .env, используя .env.sample:

4. Запустите проект в контейнерах:
   ```
   sudo docker compose up
   ```
5. Выполните миграции:
   ```
   sudo docker compose exec backend python manage.py migrate
   ```

## Эндпоинты API

### 1. Создание пользователя и отправка верификационного кода

- **URL:** `/api/registration/`
- **Метод:** `POST`
- **Параметры запроса:**
- `phone_number`
- `password`
- **Успешный ответ:**
- Код: 200 OK
- Тело ответа: JSON объект с данными пользователя.

### 2. Подтверждение верификационного кода

- **URL:** `/api/verification/`
- **Метод:** `POST`
- **Параметры запроса:**
- `phone_number` 
- `password`
- `verification_code` (строка, обязательный) - верификационный код.
- **Успешный ответ:**
- Код: 200 OK
- Тело ответа: JSON объект с токеном доступа.

### 3. Получение профиля пользователя

- **URL:** `/api/user/<pk:int>/`
- **Метод:** `GET`
- **Требуется авторизация.**
- **Успешный ответ:**
- Код: 200 OK
- Тело ответа: JSON объект с данными профиля пользователя.

### 4. Активация пригласительного кода

- **URL:** `/api/user/<pk:int>/`
- **Метод:** `PATCH`
- **Требуется авторизация.**
- **Параметры запроса:**
- `invite_key` (строка, опциональный) - пригласительный код.
- **Успешный ответ:**
- Код: 200 OK
- Тело ответа: JSON объект с сообщением.

### 5. Получение в профиле пользователя cписка пользователей с активированным его пригласительным кодом

- **URL:** `/api/user/profile/<pk:int>/`
- **Метод:** `GET`
- **Требуется авторизация.**
- **Успешный ответ:**
- Код: 200 OK
- Тело ответа: JSON объект с данными профиля пользователя.

## Интерфейс на Django Templates

Для удобства тестирования можете перейти по адресу:
```
http://localhost:8000/
```
## Документация API

```
**URL:** http://127.0.0.1:8000/swagger/
```
